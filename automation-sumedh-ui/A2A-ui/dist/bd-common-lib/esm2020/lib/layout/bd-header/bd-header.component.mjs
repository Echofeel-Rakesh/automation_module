import { Component, Inject } from '@angular/core';
import { DOCUMENT } from '@angular/common';
import { CommonGlobalVar } from '../../common/common-global';
import * as i0 from "@angular/core";
import * as i1 from "../../common/authentication.service";
import * as i2 from "../../common/aesencrypt-decrypt.service";
import * as i3 from "@angular/router";
import * as i4 from "@angular/common";
export class BdHeaderComponent {
    constructor(document, authService, encrypt, router) {
        this.document = document;
        this.authService = authService;
        this.encrypt = encrypt;
        this.router = router;
        this.isUserLoggedIn = false;
        this.empName = '';
    }
    ngOnInit() {
        if (sessionStorage.getItem('empCode') !== null) {
            this.isUserLoggedIn = true;
            this.empName = this.encrypt.decryptionAES(sessionStorage.getItem('empName')?.toString());
        }
        //this.isUserLoggedIn = this.authService.checkUserLoggedIn();
    }
    //Toggle navigation button click event to show hide navigation menu
    togglebtnclick() {
        this.document.body.classList.toggle('toggle-sidebar');
    }
    //Logout user and close window
    doLogout() {
        //this.authService.logoutUser();
        // sessionStorage.clear();
        // localStorage.clear();     
        // window.location.href = (CommonGlobalVar.USER_UI);       
        // let popups:any[]=[];
        // popups = JSON.parse(localStorage.getItem('pp')!);
        // console.log(popups[1]);
        // for(let w = 0; popups.length > w; w++)
        // {
        //   console.log(popups[w]);
        //   window[popups[w]].close();
        // }
        console.log('window location : ', window.location.toString().toLowerCase());
        console.log('user ui : ', CommonGlobalVar.USER_UI.toLowerCase() + '/dashboard');
        if (window.location.toString().toLowerCase() == CommonGlobalVar.USER_UI.toLowerCase() + '/dashboard') {
            console.log('Inside closeWin()');
            closeWin();
            if (window.location.href.toLowerCase().includes('dev')) {
                window.location.href = (CommonGlobalVar.USER_UI_DEV);
            }
            else if (window.location.href.toLowerCase().includes('uat') || window.location.href.toLowerCase().includes('test')) {
                window.location.href = (CommonGlobalVar.USER_UI_UAT);
            }
            else {
                window.location.href = (CommonGlobalVar.USER_UI_PROD);
            }
        }
        else {
            sessionStorage.clear();
            localStorage.clear();
            window.self.close();
        }
        //console.log('logout');
        // window.self.close();
        // window.close();
    }
}
BdHeaderComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "15.2.3", ngImport: i0, type: BdHeaderComponent, deps: [{ token: DOCUMENT }, { token: i1.AuthenticationService }, { token: i2.AESEncryptDecryptService }, { token: i3.Router }], target: i0.ɵɵFactoryTarget.Component });
BdHeaderComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "15.2.3", type: BdHeaderComponent, selector: "lib-bd-header", ngImport: i0, template: "<header id=\"header\" class=\"header fixed-top d-flex align-items-center\">\r\n    <div class=\"d-flex align-items-center justify-content-between\">\r\n        <span class=\"logo d-flex align-items-center\">\r\n            <a class=\"logo-link\" href=\"/dashboard\"><img src=\"assets/img/blue-dart_logo.jpeg\" alt=\"\"></a>\r\n        </span>\r\n        <i class=\"bi bi-list toggle-sidebar-btn\" (click)=\"togglebtnclick()\"  *ngIf=\"isUserLoggedIn==true\"></i>\r\n    </div><!-- End Logo -->\r\n    <nav class=\"header-nav ms-auto\"  *ngIf=\"isUserLoggedIn==true\">\r\n        <ul class=\"d-flex align-items-center\">\r\n            <li class=\"nav-item dropdown\">                \r\n            </li><!-- End Notification Nav -->\r\n            <li class=\"nav-item dropdown pe-3\">\r\n                <a class=\"nav-link nav-profile d-flex align-items-center pe-0\" href=\"#\" data-bs-toggle=\"dropdown\">\r\n                    <img src=\"assets/img/male.png\" alt=\"Profile\" class=\"rounded-circle\">\r\n                    <span class=\"d-none d-md-block dropdown-toggle ps-2\">{{this.empName}}</span>\r\n                </a><!-- End Profile Iamge Icon -->\r\n                <ul class=\"dropdown-menu dropdown-menu-end dropdown-menu-arrow profile\">\r\n                    <li class=\"dropdown-header\">\r\n                        <h6>{{this.empName}}</h6>\r\n                        <span></span>\r\n                    </li>\r\n                    <li>\r\n                        <hr class=\"dropdown-divider\">\r\n                    </li>\r\n                    <!-- <li>\r\n                        <a class=\"dropdown-item d-flex align-items-center\" href=\"#\">\r\n                            <i class=\"bi bi-person\"></i>\r\n                            <span>My Profile</span>\r\n                        </a>\r\n                    </li> -->\r\n                    <!-- <li>\r\n                        <hr class=\"dropdown-divider\">\r\n                    </li>\r\n                    <li>\r\n                        <a class=\"dropdown-item d-flex align-items-center\" href=\"#\">\r\n                            <i class=\"bi bi-gear\"></i>\r\n                            <span>Account Settings</span>\r\n                        </a>\r\n                    </li>\r\n                    <li>\r\n                        <hr class=\"dropdown-divider\">\r\n                    </li>\r\n                    <li>\r\n                        <a class=\"dropdown-item d-flex align-items-center\" href=\"#\">\r\n                            <i class=\"bi bi-question-circle\"></i>\r\n                            <span>Need Help?</span>\r\n                        </a>\r\n                    </li> -->\r\n                    <li>\r\n                        <hr class=\"dropdown-divider\">\r\n                    </li>\r\n                    <li>\r\n                        <a id=\"Logout\" class=\"dropdown-item d-flex align-items-center cursor-pointer\" (click)=\"doLogout()\">\r\n                            <i class=\"bi bi-box-arrow-right\"></i>\r\n                            <span>Sign Out</span>\r\n                        </a>\r\n                    </li>\r\n                </ul><!-- End Profile Dropdown Items -->\r\n            </li><!-- End Profile Nav -->\r\n        </ul>\r\n    </nav><!-- End Icons Navigation -->\r\n</header><!-- End Header -->\r\n\r\n", styles: [""], dependencies: [{ kind: "directive", type: i4.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "15.2.3", ngImport: i0, type: BdHeaderComponent, decorators: [{
            type: Component,
            args: [{ selector: 'lib-bd-header', template: "<header id=\"header\" class=\"header fixed-top d-flex align-items-center\">\r\n    <div class=\"d-flex align-items-center justify-content-between\">\r\n        <span class=\"logo d-flex align-items-center\">\r\n            <a class=\"logo-link\" href=\"/dashboard\"><img src=\"assets/img/blue-dart_logo.jpeg\" alt=\"\"></a>\r\n        </span>\r\n        <i class=\"bi bi-list toggle-sidebar-btn\" (click)=\"togglebtnclick()\"  *ngIf=\"isUserLoggedIn==true\"></i>\r\n    </div><!-- End Logo -->\r\n    <nav class=\"header-nav ms-auto\"  *ngIf=\"isUserLoggedIn==true\">\r\n        <ul class=\"d-flex align-items-center\">\r\n            <li class=\"nav-item dropdown\">                \r\n            </li><!-- End Notification Nav -->\r\n            <li class=\"nav-item dropdown pe-3\">\r\n                <a class=\"nav-link nav-profile d-flex align-items-center pe-0\" href=\"#\" data-bs-toggle=\"dropdown\">\r\n                    <img src=\"assets/img/male.png\" alt=\"Profile\" class=\"rounded-circle\">\r\n                    <span class=\"d-none d-md-block dropdown-toggle ps-2\">{{this.empName}}</span>\r\n                </a><!-- End Profile Iamge Icon -->\r\n                <ul class=\"dropdown-menu dropdown-menu-end dropdown-menu-arrow profile\">\r\n                    <li class=\"dropdown-header\">\r\n                        <h6>{{this.empName}}</h6>\r\n                        <span></span>\r\n                    </li>\r\n                    <li>\r\n                        <hr class=\"dropdown-divider\">\r\n                    </li>\r\n                    <!-- <li>\r\n                        <a class=\"dropdown-item d-flex align-items-center\" href=\"#\">\r\n                            <i class=\"bi bi-person\"></i>\r\n                            <span>My Profile</span>\r\n                        </a>\r\n                    </li> -->\r\n                    <!-- <li>\r\n                        <hr class=\"dropdown-divider\">\r\n                    </li>\r\n                    <li>\r\n                        <a class=\"dropdown-item d-flex align-items-center\" href=\"#\">\r\n                            <i class=\"bi bi-gear\"></i>\r\n                            <span>Account Settings</span>\r\n                        </a>\r\n                    </li>\r\n                    <li>\r\n                        <hr class=\"dropdown-divider\">\r\n                    </li>\r\n                    <li>\r\n                        <a class=\"dropdown-item d-flex align-items-center\" href=\"#\">\r\n                            <i class=\"bi bi-question-circle\"></i>\r\n                            <span>Need Help?</span>\r\n                        </a>\r\n                    </li> -->\r\n                    <li>\r\n                        <hr class=\"dropdown-divider\">\r\n                    </li>\r\n                    <li>\r\n                        <a id=\"Logout\" class=\"dropdown-item d-flex align-items-center cursor-pointer\" (click)=\"doLogout()\">\r\n                            <i class=\"bi bi-box-arrow-right\"></i>\r\n                            <span>Sign Out</span>\r\n                        </a>\r\n                    </li>\r\n                </ul><!-- End Profile Dropdown Items -->\r\n            </li><!-- End Profile Nav -->\r\n        </ul>\r\n    </nav><!-- End Icons Navigation -->\r\n</header><!-- End Header -->\r\n\r\n" }]
        }], ctorParameters: function () { return [{ type: Document, decorators: [{
                    type: Inject,
                    args: [DOCUMENT]
                }] }, { type: i1.AuthenticationService }, { type: i2.AESEncryptDecryptService }, { type: i3.Router }]; } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmQtaGVhZGVyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2JkLWNvbW1vbi1saWIvc3JjL2xpYi9sYXlvdXQvYmQtaGVhZGVyL2JkLWhlYWRlci5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9iZC1jb21tb24tbGliL3NyYy9saWIvbGF5b3V0L2JkLWhlYWRlci9iZC1oZWFkZXIuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQVUsTUFBTSxlQUFlLENBQUM7QUFDMUQsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBSTNDLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQzs7Ozs7O0FBUTdELE1BQU0sT0FBTyxpQkFBaUI7SUFLNUIsWUFDNEIsUUFBaUIsRUFDbkMsV0FBaUMsRUFDakMsT0FBZ0MsRUFDaEMsTUFBYTtRQUhLLGFBQVEsR0FBUixRQUFRLENBQVM7UUFDbkMsZ0JBQVcsR0FBWCxXQUFXLENBQXNCO1FBQ2pDLFlBQU8sR0FBUCxPQUFPLENBQXlCO1FBQ2hDLFdBQU0sR0FBTixNQUFNLENBQU87UUFQaEIsbUJBQWMsR0FBRyxLQUFLLENBQUM7UUFDOUIsWUFBTyxHQUFRLEVBQUUsQ0FBQztJQU1TLENBQUM7SUFFNUIsUUFBUTtRQUVOLElBQUcsY0FBYyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsS0FBSyxJQUFJLEVBQzdDO1lBQ0UsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUM7WUFDM0IsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxFQUFFLFFBQVEsRUFBRSxDQUFDLENBQUM7U0FDMUY7UUFFRCw2REFBNkQ7SUFDL0QsQ0FBQztJQUVELG1FQUFtRTtJQUNuRSxjQUFjO1FBQ1osSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0lBQ3hELENBQUM7SUFFRCw4QkFBOEI7SUFDOUIsUUFBUTtRQUVKLGdDQUFnQztRQUNoQywwQkFBMEI7UUFDMUIsNkJBQTZCO1FBQzdCLDJEQUEyRDtRQUMzRCx1QkFBdUI7UUFDdkIsb0RBQW9EO1FBQ3BELDBCQUEwQjtRQUUxQix5Q0FBeUM7UUFDekMsSUFBSTtRQUNKLDRCQUE0QjtRQUU1QiwrQkFBK0I7UUFDL0IsSUFBSTtRQUVKLE9BQU8sQ0FBQyxHQUFHLENBQUMsb0JBQW9CLEVBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDO1FBQzNFLE9BQU8sQ0FBQyxHQUFHLENBQUMsWUFBWSxFQUFFLGVBQWUsQ0FBQyxPQUFPLENBQUMsV0FBVyxFQUFFLEdBQUcsWUFBWSxDQUFDLENBQUM7UUFFaEYsSUFBRyxNQUFNLENBQUMsUUFBUSxDQUFDLFFBQVEsRUFBRSxDQUFDLFdBQVcsRUFBRSxJQUFJLGVBQWUsQ0FBQyxPQUFPLENBQUMsV0FBVyxFQUFFLEdBQUcsWUFBWSxFQUNuRztZQUNJLE9BQU8sQ0FBQyxHQUFHLENBQUMsbUJBQW1CLENBQUMsQ0FBQztZQUVqQyxRQUFRLEVBQUUsQ0FBQztZQUVYLElBQUcsTUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxFQUNyRDtnQkFDRSxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksR0FBRyxDQUFDLGVBQWUsQ0FBQyxXQUFXLENBQUMsQ0FBQzthQUN0RDtpQkFDSSxJQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLEVBQ2pIO2dCQUNFLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxHQUFHLENBQUMsZUFBZSxDQUFDLFdBQVcsQ0FBQyxDQUFDO2FBQ3REO2lCQUVEO2dCQUNFLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxHQUFHLENBQUMsZUFBZSxDQUFDLFlBQVksQ0FBQyxDQUFDO2FBQ3ZEO1NBRUo7YUFDRztZQUVGLGNBQWMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztZQUN2QixZQUFZLENBQUMsS0FBSyxFQUFFLENBQUM7WUFDckIsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztTQUNyQjtRQUlELHdCQUF3QjtRQUV4Qix1QkFBdUI7UUFDdkIsa0JBQWtCO0lBRXRCLENBQUM7OzhHQWxGVSxpQkFBaUIsa0JBTWxCLFFBQVE7a0dBTlAsaUJBQWlCLHFEQ2I5QixrekdBK0RBOzJGRGxEYSxpQkFBaUI7a0JBTDdCLFNBQVM7K0JBQ0UsZUFBZTs7MEJBVXRCLE1BQU07MkJBQUMsUUFBUSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgSW5qZWN0LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgRE9DVU1FTlQgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xyXG5pbXBvcnQgeyBBdXRoZW50aWNhdGlvblNlcnZpY2UgfSBmcm9tICcuLi8uLi9jb21tb24vYXV0aGVudGljYXRpb24uc2VydmljZSc7XHJcbmltcG9ydCB7IEFFU0VuY3J5cHREZWNyeXB0U2VydmljZSB9IGZyb20gJy4uLy4uL2NvbW1vbi9hZXNlbmNyeXB0LWRlY3J5cHQuc2VydmljZSc7XHJcbmltcG9ydCB7IFJvdXRlciB9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XHJcbmltcG9ydCB7IENvbW1vbkdsb2JhbFZhciB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb21tb24tZ2xvYmFsJztcclxuZGVjbGFyZSBmdW5jdGlvbiBjbG9zZVdpbigpOiB2b2lkO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdsaWItYmQtaGVhZGVyJyxcclxuICB0ZW1wbGF0ZVVybDogJy4vYmQtaGVhZGVyLmNvbXBvbmVudC5odG1sJyxcclxuICBzdHlsZVVybHM6IFsnLi9iZC1oZWFkZXIuY29tcG9uZW50LmNzcyddXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBCZEhlYWRlckNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XHJcblxyXG4gIHB1YmxpYyBpc1VzZXJMb2dnZWRJbiA9IGZhbHNlO1xyXG4gIGVtcE5hbWU6c3RyaW5nPScnO1xyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIEBJbmplY3QoRE9DVU1FTlQpIHByaXZhdGUgZG9jdW1lbnQ6RG9jdW1lbnQsIFxyXG4gICAgcHJpdmF0ZSBhdXRoU2VydmljZTpBdXRoZW50aWNhdGlvblNlcnZpY2UsXHJcbiAgICBwcml2YXRlIGVuY3J5cHQ6QUVTRW5jcnlwdERlY3J5cHRTZXJ2aWNlLFxyXG4gICAgcHJpdmF0ZSByb3V0ZXI6Um91dGVyKSB7IH1cclxuXHJcbiAgbmdPbkluaXQoKSB7XHJcblxyXG4gICAgaWYoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnZW1wQ29kZScpICE9PSBudWxsKVxyXG4gICAge1xyXG4gICAgICB0aGlzLmlzVXNlckxvZ2dlZEluID0gdHJ1ZTtcclxuICAgICAgdGhpcy5lbXBOYW1lID0gdGhpcy5lbmNyeXB0LmRlY3J5cHRpb25BRVMoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnZW1wTmFtZScpPy50b1N0cmluZygpKTtcclxuICAgIH1cclxuXHJcbiAgICAvL3RoaXMuaXNVc2VyTG9nZ2VkSW4gPSB0aGlzLmF1dGhTZXJ2aWNlLmNoZWNrVXNlckxvZ2dlZEluKCk7XHJcbiAgfVxyXG5cclxuICAvL1RvZ2dsZSBuYXZpZ2F0aW9uIGJ1dHRvbiBjbGljayBldmVudCB0byBzaG93IGhpZGUgbmF2aWdhdGlvbiBtZW51XHJcbiAgdG9nZ2xlYnRuY2xpY2soKXtcclxuICAgIHRoaXMuZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QudG9nZ2xlKCd0b2dnbGUtc2lkZWJhcicpO1xyXG4gIH0gXHJcblxyXG4gIC8vTG9nb3V0IHVzZXIgYW5kIGNsb3NlIHdpbmRvd1xyXG4gIGRvTG9nb3V0KCl7XHJcblxyXG4gICAgICAvL3RoaXMuYXV0aFNlcnZpY2UubG9nb3V0VXNlcigpO1xyXG4gICAgICAvLyBzZXNzaW9uU3RvcmFnZS5jbGVhcigpO1xyXG4gICAgICAvLyBsb2NhbFN0b3JhZ2UuY2xlYXIoKTsgICAgIFxyXG4gICAgICAvLyB3aW5kb3cubG9jYXRpb24uaHJlZiA9IChDb21tb25HbG9iYWxWYXIuVVNFUl9VSSk7ICAgICAgIFxyXG4gICAgICAvLyBsZXQgcG9wdXBzOmFueVtdPVtdO1xyXG4gICAgICAvLyBwb3B1cHMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwcCcpISk7XHJcbiAgICAgIC8vIGNvbnNvbGUubG9nKHBvcHVwc1sxXSk7XHJcblxyXG4gICAgICAvLyBmb3IobGV0IHcgPSAwOyBwb3B1cHMubGVuZ3RoID4gdzsgdysrKVxyXG4gICAgICAvLyB7XHJcbiAgICAgIC8vICAgY29uc29sZS5sb2cocG9wdXBzW3ddKTtcclxuICAgICAgICBcclxuICAgICAgLy8gICB3aW5kb3dbcG9wdXBzW3ddXS5jbG9zZSgpO1xyXG4gICAgICAvLyB9XHJcblxyXG4gICAgICBjb25zb2xlLmxvZygnd2luZG93IGxvY2F0aW9uIDogJyx3aW5kb3cubG9jYXRpb24udG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpKTtcclxuICAgICAgY29uc29sZS5sb2coJ3VzZXIgdWkgOiAnLCBDb21tb25HbG9iYWxWYXIuVVNFUl9VSS50b0xvd2VyQ2FzZSgpICsgJy9kYXNoYm9hcmQnKTtcclxuXHJcbiAgICAgIGlmKHdpbmRvdy5sb2NhdGlvbi50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkgPT0gQ29tbW9uR2xvYmFsVmFyLlVTRVJfVUkudG9Mb3dlckNhc2UoKSArICcvZGFzaGJvYXJkJylcclxuICAgICAge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ0luc2lkZSBjbG9zZVdpbigpJyk7XHJcblxyXG4gICAgICAgICAgY2xvc2VXaW4oKTtcclxuXHJcbiAgICAgICAgICBpZih3aW5kb3cubG9jYXRpb24uaHJlZi50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdkZXYnKSlcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAoQ29tbW9uR2xvYmFsVmFyLlVTRVJfVUlfREVWKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGVsc2UgaWYod2luZG93LmxvY2F0aW9uLmhyZWYudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygndWF0JykgfHwgd2luZG93LmxvY2F0aW9uLmhyZWYudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygndGVzdCcpKVxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IChDb21tb25HbG9iYWxWYXIuVVNFUl9VSV9VQVQpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZWxzZVxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IChDb21tb25HbG9iYWxWYXIuVVNFUl9VSV9QUk9EKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIFxyXG4gICAgICB9XHJcbiAgICAgIGVsc2V7XHJcblxyXG4gICAgICAgIHNlc3Npb25TdG9yYWdlLmNsZWFyKCk7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLmNsZWFyKCk7XHJcbiAgICAgICAgd2luZG93LnNlbGYuY2xvc2UoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgXHJcblxyXG4gICAgICAvL2NvbnNvbGUubG9nKCdsb2dvdXQnKTtcclxuXHJcbiAgICAgIC8vIHdpbmRvdy5zZWxmLmNsb3NlKCk7XHJcbiAgICAgIC8vIHdpbmRvdy5jbG9zZSgpO1xyXG5cclxuICB9XHJcblxyXG59XHJcbiIsIjxoZWFkZXIgaWQ9XCJoZWFkZXJcIiBjbGFzcz1cImhlYWRlciBmaXhlZC10b3AgZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlclwiPlxyXG4gICAgPGRpdiBjbGFzcz1cImQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWJldHdlZW5cIj5cclxuICAgICAgICA8c3BhbiBjbGFzcz1cImxvZ28gZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlclwiPlxyXG4gICAgICAgICAgICA8YSBjbGFzcz1cImxvZ28tbGlua1wiIGhyZWY9XCIvZGFzaGJvYXJkXCI+PGltZyBzcmM9XCJhc3NldHMvaW1nL2JsdWUtZGFydF9sb2dvLmpwZWdcIiBhbHQ9XCJcIj48L2E+XHJcbiAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgIDxpIGNsYXNzPVwiYmkgYmktbGlzdCB0b2dnbGUtc2lkZWJhci1idG5cIiAoY2xpY2spPVwidG9nZ2xlYnRuY2xpY2soKVwiICAqbmdJZj1cImlzVXNlckxvZ2dlZEluPT10cnVlXCI+PC9pPlxyXG4gICAgPC9kaXY+PCEtLSBFbmQgTG9nbyAtLT5cclxuICAgIDxuYXYgY2xhc3M9XCJoZWFkZXItbmF2IG1zLWF1dG9cIiAgKm5nSWY9XCJpc1VzZXJMb2dnZWRJbj09dHJ1ZVwiPlxyXG4gICAgICAgIDx1bCBjbGFzcz1cImQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXJcIj5cclxuICAgICAgICAgICAgPGxpIGNsYXNzPVwibmF2LWl0ZW0gZHJvcGRvd25cIj4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIDwvbGk+PCEtLSBFbmQgTm90aWZpY2F0aW9uIE5hdiAtLT5cclxuICAgICAgICAgICAgPGxpIGNsYXNzPVwibmF2LWl0ZW0gZHJvcGRvd24gcGUtM1wiPlxyXG4gICAgICAgICAgICAgICAgPGEgY2xhc3M9XCJuYXYtbGluayBuYXYtcHJvZmlsZSBkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIHBlLTBcIiBocmVmPVwiI1wiIGRhdGEtYnMtdG9nZ2xlPVwiZHJvcGRvd25cIj5cclxuICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImFzc2V0cy9pbWcvbWFsZS5wbmdcIiBhbHQ9XCJQcm9maWxlXCIgY2xhc3M9XCJyb3VuZGVkLWNpcmNsZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZC1ub25lIGQtbWQtYmxvY2sgZHJvcGRvd24tdG9nZ2xlIHBzLTJcIj57e3RoaXMuZW1wTmFtZX19PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9hPjwhLS0gRW5kIFByb2ZpbGUgSWFtZ2UgSWNvbiAtLT5cclxuICAgICAgICAgICAgICAgIDx1bCBjbGFzcz1cImRyb3Bkb3duLW1lbnUgZHJvcGRvd24tbWVudS1lbmQgZHJvcGRvd24tbWVudS1hcnJvdyBwcm9maWxlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwiZHJvcGRvd24taGVhZGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxoNj57e3RoaXMuZW1wTmFtZX19PC9oNj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxpPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aHIgY2xhc3M9XCJkcm9wZG93bi1kaXZpZGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICAgICAgICA8IS0tIDxsaT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXJcIiBocmVmPVwiI1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJiaSBiaS1wZXJzb25cIj48L2k+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5NeSBQcm9maWxlPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9saT4gLS0+XHJcbiAgICAgICAgICAgICAgICAgICAgPCEtLSA8bGk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxociBjbGFzcz1cImRyb3Bkb3duLWRpdmlkZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsaT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXJcIiBocmVmPVwiI1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJiaSBiaS1nZWFyXCI+PC9pPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+QWNjb3VudCBTZXR0aW5nczwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxpPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aHIgY2xhc3M9XCJkcm9wZG93bi1kaXZpZGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICAgICAgICA8bGk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwiZHJvcGRvd24taXRlbSBkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyXCIgaHJlZj1cIiNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiYmkgYmktcXVlc3Rpb24tY2lyY2xlXCI+PC9pPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+TmVlZCBIZWxwPzwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvbGk+IC0tPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsaT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGhyIGNsYXNzPVwiZHJvcGRvd24tZGl2aWRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxpPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YSBpZD1cIkxvZ291dFwiIGNsYXNzPVwiZHJvcGRvd24taXRlbSBkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIGN1cnNvci1wb2ludGVyXCIgKGNsaWNrKT1cImRvTG9nb3V0KClcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiYmkgYmktYm94LWFycm93LXJpZ2h0XCI+PC9pPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+U2lnbiBPdXQ8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgICAgPC91bD48IS0tIEVuZCBQcm9maWxlIERyb3Bkb3duIEl0ZW1zIC0tPlxyXG4gICAgICAgICAgICA8L2xpPjwhLS0gRW5kIFByb2ZpbGUgTmF2IC0tPlxyXG4gICAgICAgIDwvdWw+XHJcbiAgICA8L25hdj48IS0tIEVuZCBJY29ucyBOYXZpZ2F0aW9uIC0tPlxyXG48L2hlYWRlcj48IS0tIEVuZCBIZWFkZXIgLS0+XHJcblxyXG4iXX0=